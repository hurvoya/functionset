%_Cancel_STL :=
DIVIDE(
    -- Numérateur : Nb distinct de Contract Id dans Cancel STL
    CALCULATE(
        DISTINCTCOUNT(Cancel_STL[Contract Id]),
        TREATAS(VALUES(Fait_All[IBL]), Cancel_STL[IBL]),
        TREATAS(VALUES(Fait_All[Organisme]), Cancel_STL[Organisme]),
        TREATAS(VALUES(Fait_All[Partner]), Cancel_STL[Partner]),
        TREATAS(VALUES(Fait_All[Financial Product]), Cancel_STL[Financial Product]),
        TREATAS(VALUES(Fait_All[Commercial Product]), Cancel_STL[Commercial Product]),
        TREATAS(VALUES(Fait_All[Market]), Cancel_STL[Market]),
        TREATAS(VALUES(Fait_All[Apporteur]), Cancel_STL[Apporteur]),
        TREATAS(VALUES(Fait_All[Agence]), Cancel_STL[Agence])
        -- ❌ Pas de Country ici
    ),
    -- Dénominateur : Nb distinct de Contract Id dans MEL STL
    CALCULATE(
        DISTINCTCOUNT(MEL[Contract Id]),
        TREATAS(VALUES(Fait_All[IBL]), MEL[IBL]),
        TREATAS(VALUES(Fait_All[Organisme]), MEL[Organisme]),
        TREATAS(VALUES(Fait_All[Partner]), MEL[Partner]),
        TREATAS(VALUES(Fait_All[Financial Product]), MEL[Financial Product]),
        TREATAS(VALUES(Fait_All[Commercial Product]), MEL[Commercial Product]),
        TREATAS(VALUES(Fait_All[Market]), MEL[Market]),
        TREATAS(VALUES(Fait_All[Apporteur]), MEL[Apporteur]),
        TREATAS(VALUES(Fait_All[Agence]), MEL[Agence])
        -- ❌ Pas de Country ici non plus
    )
)
